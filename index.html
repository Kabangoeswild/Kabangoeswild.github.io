<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <title>AR.js Video on Hiro Marker</title>
    <script src="aframe.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        #controls {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 10px;
            border-radius: 5px;
            z-index: 10;
        }
        #group2-controls {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 10px;
            border-radius: 5px;
            z-index: 10;
        }
        button {
            margin-right: 10px;
        }
    </style>
</head>
<body style="margin: 0; overflow: hidden;">
    <div id="controls">
        <button onclick="prevVideo1()">Previous Video 1</button>
        <button onclick="nextVideo1()">Next Video 1</button>
    </div>
    <div id="group2-controls">
        <button onclick="prevGroup2()">Previous Group 2</button>
        <button onclick="nextGroup2()">Next Group 2</button>
    </div>
    <a-scene embedded arjs='sourceType: webcam; trackingMethod: best;' renderer="alpha: true">
        <a-assets>
            <img id="video1" src="CPTsection.jpg"></img>
            <img id="video2" src="ShieldWeld.jpg"></img>
            <img id="video3" src="Section1New.png"></img>
            <img id="video4" src="Section2New.jpg"></img>
            <img id="video5" src="Section3New.jpg"></img>
            <img id="video6" src="Section4New.jpg"></img>
            <img id="video7" src="Section5New.jpg"></img>
        </a-assets>

        <a-marker type : 'pattern', patternUrl : 'pattern-dlr_logo2jpg.patt',hangeMatrixMode: 'modelViewMatrix',>
            <a-image id="markerVideo1" src="#video1" width="3" height="0.75" position="0 -1 -1.5" rotation="-90 0 0"
                material="transparent: true;  depthTest: false; blending: normal;"></a-image>
            <a-image id="markerVideo2" autoplay loop="true" src="#video2" width="3" height="0.75" position="0 -1 -1.5" rotation="-90 0 0"
                material="transparent: true;  depthTest: false; blending: normal;"></a-image>
            <a-image id="markerVideo3" autoplay loop="true" src="#video3" width="3" height="0.75" position="1 -1 -1.5" rotation="0 90 0"
                material="transparent: true; opacity: 0.8;"></a-image>
            <a-image id="markerVideo4" autoplay loop="true" src="#video4" width="3" height="0.75" position="0.5 -1 -1.5" rotation="0 90 0"
                material="transparent: true;  depthTest: false; blending: normal;"></a-image>
            <a-image id="markerVideo5" autoplay loop="true" src="#video5" width="3" height="0.75" position="0 -1 -1.5" rotation="0 90 0"
                material="transparent: true; opacity: 0.8;  depthTest: false; blending: normal;"></a-image>
            <a-image id="markerVideo6" autoplay loop="true" src="#video6" width="3" height="0.75" position="-0.5 -1 -1.5" rotation="0 90 0"
                material="transparent: true; opacity: 0.8;  depthTest: false; blending: normal;"></a-image>
            <a-image id="markerVideo7" autoplay loop="true" src="#video7" width="3" height="0.75" position="-1 -1 -1.5" rotation="0 90 0"
                material="transparent: true; opacity: 0.8;  depthTest: false; blending: normal;"></a-image>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>

    <script>
        let currentVideo1Index = 0;
        let currentGroup2Index = 2;

        const videos1 = [document.querySelector('#markerVideo1'), document.querySelector('#markerVideo2')];
        const group2Videos = [
            document.querySelector('#markerVideo3'),
            document.querySelector('#markerVideo4'),
            document.querySelector('#markerVideo5'),
            document.querySelector('#markerVideo6'),
            document.querySelector('#markerVideo7')
        ];

        function hideAllImages() {
            videos1.forEach(img => img.setAttribute('visible', false));
            group2Videos.forEach(img => img.setAttribute('visible', false));
        }

        function showVideo(index, images) {
            hideAllImages();
            images[index].setAttribute('visible', true);
        }

        function prevVideo1() {
            currentVideo1Index = (currentVideo1Index - 1 + videos1.length) % videos1.length;
            showVideo(currentVideo1Index, videos1);
        }

        function nextVideo1() {
            currentVideo1Index = (currentVideo1Index + 1) % videos1.length;
            showVideo(currentVideo1Index, videos1);
        }

        function prevGroup2() {
            currentGroup2Index = (currentGroup2Index - 1 + group2Videos.length) % group2Videos.length;
            showVideo(currentGroup2Index, group2Videos);
        }

        function nextGroup2() {
            currentGroup2Index = (currentGroup2Index + 1) % group2Videos.length;
            showVideo(currentGroup2Index, group2Videos);
        }

        // Initially show the first image
        showVideo(currentVideo1Index, videos1);
        showVideo(currentGroup2Index, group2Videos);
    </script>
</body>
</html>
