<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs='sourceType:webcam;trackingMethod:best;' renderer="alpha:true">
        <a-assets>
            <video id="video1" src="resgas-velocityvector-cylinder_ZZxcEuoY.mp4" crossorigin="anonymous" preload="auto" loop muted playsinline></video>
            <video id="video2" src="swirl-center_URFn4HTn.mp4" crossorigin="anonymous" preload="auto" loop muted playsinline></video>
        </a-assets>
        <a-marker preset="hiro">
            <a-video id="markerVideo1" autoplay loop="true" src="#video1" width="1" height="0.75" position="0 0 0"  rotation="-90 0 0"  material="transparent: true; opacity: 0.8" visible="true"> </a-video>
            <a-video id="markerVideo2" autoplay loop="true" src="#video2" width="1" height="0.75" position="0 0 0"  rotation="0 90 0" material="transparent: true; opacity: 0.8" visible="false"></a-video>
        </a-marker>
        <a-entity camera ></a-entity>
    </a-scene>
    
    <script>
        var markerVideo1 = document.getElementById('markerVideo1');
        var markerVideo2 = document.getElementById('markerVideo2');
        
        document.querySelector('a-scene').addEventListener('markerFound',function(){
            var camera = document.querySelector('a-entity[camera]');
            console.log ('camera');
          //  var previousVideo = 'video1'; //

            setInterval(function() {
                var cameraRotationY = THREE.Math.radToDeg(camera.object3D.rotation.y);
                console.log('cameraRotationY');

                tick: function () {
      // `this.el` is the element.
      // `object3D` is the three.js object.
  
      // `rotation` is a three.js Euler using radians. `quaternion` also available.
      console.log(marker.object3D.rotation);
  
      // `position` is a three.js Vector3.
      console.log(marker.object3D.position);
    }
  });

                if(cameraRotationY > -45 && cameraRotationY < 45){
                    markerVideo1.setAttribute('visible', 'true');
                    markerVideo2.setAttribute('visible','false');
                    markerVideo1.play();
                    markerVideo2.pause();
                }
        else if ((cameraRotationY > 45 && cameraRotationY < 135) || (cameraRotationY < -45 && cameraRotationY > -135)) {
            markerVideo1.setAttribute('visible','false');
            markerVideo2.setAttribute('visible','true');
            markerVideo1.pause();
            markerVideo2.play();
        }
                
            },100);

        });

    </script>

</body>
</html>

